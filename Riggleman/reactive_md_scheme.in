#
units       lj
dimension   3
atom_style  bond
boundary    p p p
read_data   equilibration.config extra/bond/per/atom 4 extra/special/per/atom 12

special_bonds lj 0.0 1.0 1.0

pair_style lj/cut 2.5
pair_coeff * * 1.0 1.0 2.5
pair_modify shift yes

bond_style  harmonic
bond_coeff  1 1000.0 1.0

timestep 0.002

compute 1 all property/local batom1 batom2

#dump 1 all custom 10000 dump.lammpstrj* id type mol x y z
#dump_modify 1 sort id

dump 2 all local 1000000 bond.lammpstrj* index c_1[1] c_1[2]

fix 1 all npt temp 0.7 0.7 1.0 aniso 1.0 1.0 10.0
fix 2 all momentum 1000 linear 1 1 1 angular
# fix ID group-ID bond/create Nevery itype jtype Rmin bondtype iparam maxbond newtype jparam maxbond netype
fix 3 all bond/create 10 1 3 1.1 1 iparam 4 1 jparam 2 3

thermo_style custom step temp density pe ke pxx pyy pzz lx ly lz bonds f_3[1] f_3[2]
thermo 1000

# output config at regular intervals
run 3000000 post no every 1000000 "write_data data.link* nocoeff" 

unfix 1
unfix 2
unfix 3

undump 2
